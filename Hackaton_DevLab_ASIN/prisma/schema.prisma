generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Pensioner {
  id             String     @id @default(uuid())
  name           String
  phoneNumber    String     @unique
  monthlyPension Float
  paymentStatus  String     @default("NOT_PAID")
  fspId          String
  pin            String?
  createdAt      DateTime   @default(now())
  updatedAt      DateTime   @updatedAt
  credentialId   String?    @unique
  publicKey      String?
  counter        Int        @default(0)
  transfers      Transfer[]
}

model Transfer {
  id          String     @id @default(uuid())
  mojaloopId  String?    @unique
  type        String
  status      String     @default("PENDING")
  amount      Float
  pensionerId String?
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt
  pensioner   Pensioner? @relation(fields: [pensionerId], references: [id])
}
